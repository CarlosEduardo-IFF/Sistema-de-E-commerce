<html lang="pt-br">

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{index :: headFrag}">
</head>


<body style="min-width:372px;">
	<div class="d-flex flex-column wrapper">
		<nav th:replace="~{indexAdmin :: navFragAdmin}">

		</nav>

		<main class="flex-fill">
			<div class="container">
				<h1>Informe o nome da categoria</h1>
				<hr>
				<form method="post" action="/criarCategoria" class="mt-3">
					<div class="row">
						<div class="col-sm-12 col-md-6">
							<fieldset class="row gx-3">
								<legend>Descricao</legend>
								<div class="form-floating mb-3">
									<input class="form-control" type="text" id="txtdescricao" name="descricao"
										placeholder=" " autofocus />
									<label for="txtdescricao">Descricao</label>
								</div>

							</fieldset>


						</div>
					</div>
					<hr />

					<div class="mb-3 text-left">
						<a class="btn btn-lg btn-light btn-outline-primary" href="/principalAdmin">Cancelar</a>
						<input type="submit" value="Adicionar categoria" class="btn btn-lg btn-primary" />
					</div>
				</form>

				<hr>

				<div class="accordion" id="divTabCategorias">
					<div th:each="categoria : ${categorias}" class="accordion-item">
						<h2 class="accordion-header">
							<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
								th:data-bs-target="'#tabCategoria' + ${categoria.idCategoria}">
								<b>Categoria</b>
								<span class="mx-1" th:text="${categoria.idCategoria}"></span>
							</button>
						</h2>
						<div th:id="'tabCategoria' + ${categoria.idCategoria}" class="accordion-collapse collapse"
							data-bs-parent="#divTabCategorias">
							<div class="accordion-body">
								<table class="table">
									<tr>
										<th><strong>Id da categoria</strong></th>
										<td th:text="${categoria.idCategoria}"></td>
									</tr>
									<tr>
										<th><strong>Nome</strong></th>
										<td th:text="${categoria.descricao}"></td>
									</tr>
									<tr>
										<td colspan="2" class="d-flex justify-content-between">
											<form action="/removerCategoria/{id}" method="post"
												th:action="@{/removerCategoria/{id}(id=${categoria.idCategoria})}">
												<button type="submit" class="btn btn-danger">Remover</button>
											</form>
											<a th:href="@{/editarCategoria/{id}(id=${categoria.idCategoria})}"
												class="btn btn-primary">Editar</a>
										</td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>


			</div>
		</main>

		
	</div>
	<footer th:replace="~{index :: footerFrag}">

	</footer>

	<script th:src="@{~/js/bootstrap.bundle.min.js}"></script>
</body>

</html>