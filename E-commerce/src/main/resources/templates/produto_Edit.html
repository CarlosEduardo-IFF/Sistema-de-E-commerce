<html lang="pt-br">

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{index :: headFrag}">
</head>


<body style="min-width:372px;">
	<div class="d-flex flex-column wrapper">
		<nav th:replace="~{indexAdmin :: navFragAdmin}">

		</nav>
		<main class="flex-fill">
			<div class="container">
				<h1>Informe seus dados</h1>
				<hr>
				<form class="mt-3" action="/atualizarProduto" method="post" th:object="${produto}" enctype="multipart/form-data">
					<div class="row">
						<div class="col-sm-12 col-md-6">
							<fieldset class="row gx-3">

								<legend>Dados do Produto</legend>
								<div class="form-floating mb-3">
									<input class="form-control" type="text" id="txtNome" th:field="*{nome}"  />
									<label for="txtNome">Nome</label>
								</div>
								<div class="form-floating mb-3">
									<textarea class="form-control" id="descricaoProd" th:field="*{descricao}" 
										style="height: 150px;"></textarea>
									<label for="descricaoProd">Descrição</label>
								</div>
							</fieldset>
							<fieldset>
								<legend>Estoque</legend>
								<div class="form-floating mb-3 col-md-5">
									<input class="form-control" type="number" id="quantPro" th:field="*{quantDisponivel}"
										 />
									<label for="quantPro">Quantidade</label>
								</div>
								<legend>Preço</legend>
								<div class="form-floating mb-3 col-md-5">
									<input class="form-control" type="number" id="preco" th:field="*{preco}" step="0.01"
										 />
									<label for="preco">Preço</label>
								</div>
								<input type="hidden" th:field="*{idProduto}" />
							</fieldset>

						</div>
 						
						<div class="col-sm-12 col-md-6">
							
							
							<fieldset class="row gx-3">
								<legend>Imagem atual</legend>
								<img th:src="@{/mostrarImagem/{imagem} (imagem=${produto.imagem})}" class="img-thumbnail" id="imgProdutoExist" style="max-width: 200px; max-height: 200px;" />
							</fieldset>
							
							<fieldset class="row gx-3">
								<legend>Nova imagem</legend>
								<label class="picture" for="picture__input" tabIndex="0">
									<span class="picture__image"></span>
								</label>
								<input type="file" name="file" id="picture__input">
							</fieldset>

							<fieldset>
								<legend>Selecione a(as) categoria(as)</legend>
								<div class="form-group">
									<div class="btn-group-toggle" data-toggle="buttons">

										<div th:each="categoria : ${categorias}" class="mb-2">
											<label class="btn btn-primary">
												<input type="checkbox" name="categorias"
													th:value="${categoria.idCategoria}"
													th:text="${categoria.descricao}">
											</label>
										</div>
									</div>
								</div>
							</fieldset>

						</div>
					</div>
					<hr />
					<div class="mb-3 text-left">
						<a class="btn btn-lg btn-light btn-outline-primary" href="/listarProdutos">Cancelar</a>
						<input type="submit" value="Atualizar Produto" class="btn btn-lg btn-primary" />
					</div>
				</form>
				<hr />

			</div>

		</main>
	</div>



	
	</div>
	<footer th:replace="~{index :: footerFrag}">

	</footer>

	<script th:src="@{~/js/bootstrap.bundle.min.js}"></script>
	<script src="/js/scriptArquivos.js"></script>
</body>

</html>